[Log]
Level = 'warn' # debug would slow down I/O
JSONConsole = true # Structured logging sometimes enables faster processing

[WebServer]
AllowOrigins = '*'
SecureCookies = false
HTTPWriteTimeout = '1m'

[WebServer.TLS]
HTTPSPort = 0

[Database]
# Increase the number of database connections for parallel processing
MaxIdleConns = 20 # default is 10
# MaxOpenConns = 50

[[EVM]]
ChainID = '31337'
Enabled = true
# Hardhat has instant finality, no need to wait for blocks
FinalityDepth = 1
# How often to poll for logs (in ms, important for HTTP but also affects WS fallback)
LogPollInterval = '1s' 

[[EVM.Nodes]]
Name = 'Hardhat'
# built from source:
# HTTPURL = 'http://localhost:8545'
# WSURL = 'ws://localhost:8545'
# using docker image:
HTTPURL = 'http://host.docker.internal:8545'
WSURL = 'ws://host.docker.internal:8545'

# --- CRITICAL PERFORMANCE SETTINGS ---

[EVM.Transactions]
# This is the most important for stress testing:
# How many transactions can be in the mempool at once (unconfirmed)
MaxInFlight = 500 # default 16
# How many transactions can wait in the DB for processing
MaxQueued = 5000 # default 250
# How often to check pending transactions
ReaperInterval = '10s' # default 1h
# How often to retry sending transactions
ResendAfterThreshold = '10s' # default 1m

[EVM.GasEstimator]
# For local testing, it's advisable to use a fixed price to save on estimateGas calls
Mode = 'FixedPrice' 
[EVM.GasEstimator.BlockHistory]
BlockHistorySize = 0 # No need to analyze history for gas price

# [JobPipeline]
# Increase the number of jobs that can run in parallel
# MaxSuccessfulRuns = 1000
# ResultWriteQueueDepth = 1000