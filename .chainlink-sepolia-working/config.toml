[Log]
Level = 'debug'  # Use 'info' or 'warn' for production

[WebServer]
AllowOrigins = '*'  # Allow all origins for dev (restrict in production)
SecureCookies = false  # Disable for local dev

[WebServer.TLS]
HTTPSPort = 0  # Disable HTTPS for local dev

[Feature]
LogPoller = true  # Enable log poller (recommended)

[Telemetry]
Enabled = false  # Disable telemetry for local dev

# Hardhat local Network
[[EVM]]
ChainID = '31337'
Enabled = true
FinalityDepth = 1
FinalityTagEnabled = false	# Disables the finality tag check that was causing "finality violation" errors
LogPollInterval = '2s'	# Faster polling (every 2 seconds instead of 5)
MinIncomingConfirmations = 1
LogBackfillBatchSize = 10  # Smaller batch size for dev
BlockBackfillDepth = 10  # Less backfill needed

[[EVM.Nodes]]
Name = 'hardhat_local_01'
HTTPURL = 'http://localhost:8545'
WSURL = 'ws://localhost:8545'	# WSURL must be ws:// (or wss:// for TLS). Chainlink uses WS to subscribe to events.
SendOnly = false

[EVM.Transactions]
ForwardersEnabled = false
MaxInFlight = 10	#  Limits concurrent transactions to avoid nonce conflicts
MaxQueued = 250
ReaperInterval = '1h'
ReaperThreshold = '168h'
ResendAfterThreshold = '1m'	# Resends stuck transactions after 1 minute

[EVM.GasEstimator]
Mode = 'FixedPrice'  # Use fixed gas price for local dev
LimitDefault = 500000
LimitMax = 500000
LimitMultiplier = '1.0'
BumpMin = '5 gwei'
BumpPercent = 20
BumpThreshold = 3
BumpTxDepth = 10
EIP1559DynamicFees = false	# Disables EIP-1559 (not needed for Hardhat)
FeeCapDefault = '100 gwei'
TipCapDefault = '1 gwei'
TipCapMin = '1 gwei'

    [EVM.GasEstimator.BlockHistory]
    BlockHistorySize = 1  # Minimal history for dev
    CheckInclusionBlocks = 1
    CheckInclusionPercentile = 50
    TransactionPercentile = 50

[JobPipeline]
MaxSuccessfulRuns = 1000  # Keep more successful runs
ReaperInterval = '10m'      # Clean up every 10 minutes
ReaperThreshold = '2h'    # Delete runs older than 2 hours
ResultWriteQueueDepth = 100

[Database]
MaxIdleConns = 10
MaxOpenConns = 20
MigrateOnStartup = true